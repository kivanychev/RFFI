Пишу шаги как я продвигаюсь по проекту.
Предварительно пишу вперед план нескольких шагов: что я буду делать
--------------------------------------------------------------------------

--------------------------
ПЛАН БЛИЖАЙШИХ РЕЗУЛЬТАТОВ
--------------------------

. Протестировать работает ли UART2 в обе стороны

. Посчитать максимальный ток потребления

. Проверить работу ADC2 как работает (WiFi использоваться не будет)

. Прочитать про режим программирования ESP32: как следует производить прошивку платы


. Проверить, как синхронно работает таймер на отдельном ядре:
    . Собрать проект примера работы с Ethernet
    . Добавить код работы таймера  отдельном ядре
    . Посмотреть осциллографом, как точно работает таймер

. Спросить: Как формировать ШИМ - по половинкам или полностью весь период на каждом из выводов?

. Выяснить, какие алгоритмы управления инвертором приняли для работы в схеме


  
----------
30.05.2021
----------

    + Устранил ошибку соединения сигнала CS и выводов ESP_IO5 c ESP_IO22
      Перед тем как обновлять проект печатной платы, предварительно сохранил проект печатной платы в файл с именем "<имя файла> copy"
      
    + Обновил проект печатной платы - обновилась схема хорошо
    
    + Сделал нижний слой
    
    + Добавил 3D вид платы в описание схемы

  
----------
29.05.2021
----------

    + Ввести еще 2 сигнала: вход на состояние ощибки и выход для сброса ошибки
        С выводов X4.17 и X4.19 убрать GND
        Завести:
            AT_SCK на вход X4.17 (Fault)
            AT_MISO на выход x4.19 (ClrFault)


----------
28.05.2021
----------

    + Уточнить, как формируются сигналы ШИМ на стойки преобразователя:
        + Одинаковая ли частота - Да
        + Одинаковое ли следование импульсов по периодам - Да, периоды синзронизированы
        + Попросить прислать схему инвертора - схема обычный мостовой преобразователь
    

----------
27.05.2021
----------

    . Задать вопрос "Как формировать сигнал задания на ток?" И записать информацию, которую можно уточнить на текущий момент

    + Дописать текст описания а Контроллер




----------
26.05.2021
----------

    + Сделал альтернативный вариант проекта печатной платы дл того чтобы уменьшить расстояние от +5В до элементов платы
    + Создал документ с кратким описанием Контроллера: 
        + Сделал структуру документа
        + Написал 

----------
19.05.2021
----------

    + Убрал делитель с дополнительеного аналогового входа для того, чтобы использовать сигнал для АЦП2
    + Перевел


----------
18.05.2021
----------

    + Протестировал, как работает PWM на примере mcuPWM из пакета IDF
        Нужно, чтобы я мог управлять PWM duty cycle и увидеть это на осциллографе
        Скважность регулируется
    + Поменял резисторы на схеме делителей: сделать номинал в 10 раз меньше

----------
17.05.2021
----------
    
    + Нашел пример работы с таймером по прерыванию
    + Протестировал работу 6 АЦП каланов

----------
14.05.2021
----------

    + Посмотрел цены на Atmega с двумя UART: нашел более дешевый на 44 вывода: Atmega4809
      Он не подойдет по программатору USBASP
      Я принял решение поменять микроконтроллер на Atmega328-P
      При этом для отладки можно использовать тот же USART порт и подключить разъем только к одной линии Tx,
      Этого будет достаточно для того, чтобы посмотреть логи и команды управления 
      Можно также использовать библиотеку программного UART для отправки отдельных логов в ре

    + Посмотрел пример реализации ШИМ
      Запланировал, что я посмотрю



----------
13.05.2021
----------

    + Прочитал про UART и матрицу GPIO
    + Построил пример работы с ADC1 и проверил факт работы 6 каналов АЦП по схеме подключения

----------
12.05.2021
----------

    + Протестировал пример работы UART1
      Не получилось пока настроить UART2 на свои выводы 16 и 17
      Попробовать еще раз это сделать. Если не получится, наверное не принципиально потому, что UART1 тоже подойдет

----------
11.05.2021
----------

    + Прослушал заапись разговора с названиями аналоговых сигналов и вписал их обозначения на схему
    + Поискал Atmega64 на более дешевый, чем 14 долларов - не нашел пока
    + Проверил всю схему и исправил еще 2 ошибки:
        + Направление передачи на USB
        + Добавил ограничивающие резисторы на LEDA и LEDB

    + Отправил схемы разъемов на согласование

----------
07.05.2021
----------

    + Проверил всю схему на целостность соединений и правильность подключений:
      Исправил все ошибки, которые нашел
    + Поменял префиксы позичционных обозначений у компонентов на стандартные для РФ
    + Вынес схему ESP32 в отдельный лист ESP32 module
    + Перенумеровал все компоненты схемы

----------
06.05.2021
----------

    + Связать разъем сигналов состояния батарей с Atmega64
    + Связать аналоговые сигналы к выводам АЦП
    + Рассчитать делитель напряжения для пересчета диапазона аналогового напряжеия из 5В в диапазон 3.3В
    + Поставить конденсатор 10 нан к нижнему резистору делителя для аналогового
   

----------
05.05.2021
----------

+ Написал план проекта

+ выяснить, нужно ли разделять 5 вольтовые источники питания на плате диодами Shottky

  РЕШЕНИЕ
    Можно убрать диод с USB выхода
    

+ Найти тип разъема для IDC 14 пинов на плату для 6 основыных аналоговых сигналов
    LCSC part: C11215 (19000+ in stock)

о Выяснить как создать web-server через enc28j60
    Ресурсы:
        Статья про UNO и модуль enc28j60
        https://habr.com/ru/post/251403/
        
        Статья на фокуме ESP32 
        https://www.esp32.com/viewtopic.php?f=22&t=14386

        Библиотека EthernetWebServer
        https://github.com/khoih-prog/EthernetWebServer


